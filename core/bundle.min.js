!function(){return function t(e,s,a){function n(i,d){if(!s[i]){if(!e[i]){var r="function"==typeof require&&require;if(!d&&r)return r(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var p=s[i]={exports:{}};e[i][0].call(p.exports,function(t){return n(e[i][1][t]||t)},p,p.exports,t,e,s,a)}return s[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}}()({1:[function(t,e,s){t("./modules/build.js")().then(e=>{var s={cooldown:{status:!1,timer:500},align:{left:{x:-20,y:-6},right:{x:10,y:-6},top:{x:-5,y:-21},bottom:{x:-5,y:10}},windows:{preload:0,faq:0}};$("body").prepend('<div id="prompt"><div id="prompt-inner"></div></div>'),$("#block-count").html(e.stats.blocks),$("#waypoint-count").html(e.stats.waypoints),$("#quest-count").html(e.stats.quests),$("#range").attr("max",e.stats.blocks-1);var a=localStorage.getItem(e.storage),n=t("./modules/render.js"),o=t("./modules/events.js"),i=t("./modules/tooltips.js");e=n.map(e,s,a),e=o.map(e,s,n),s=o.general(s),i.map(e)})},{"./modules/build.js":2,"./modules/events.js":3,"./modules/render.js":4,"./modules/tooltips.js":5}],2:[function(t,e,s){e.exports=function(){var t=[$.getJSON("../data/01-elwynn.json"),$.getJSON("../data/02-transition.json"),$.getJSON("../data/03-morogh.json"),$.getJSON("../data/04-loch.json"),$.getJSON("../data/05-transition.json"),$.getJSON("../data/06-darkshore.json"),$.getJSON("../data/07-transition.json"),$.getJSON("../data/08-westfall.json"),$.getJSON("../data/09-transition.json"),$.getJSON("../data/10-redridge.json"),$.getJSON("../data/11-transition.json"),$.getJSON("../data/12-darkshore.json"),$.getJSON("../data/13-ashenvale.json"),$.getJSON("../data/14-transition.json"),$.getJSON("../data/15-menethil.json"),$.getJSON("../data/16-duskwood.json"),$.getJSON("../data/17-transition.json"),$.getJSON("../data/18-duskwood.json"),$.getJSON("../data/19-redridge.json"),$.getJSON("../data/20-duskwood.json"),$.getJSON("../data/21-transition.json"),$.getJSON("../data/22-wetlands.json"),$.getJSON("../data/23-transition.json"),$.getJSON("../data/24-wetlands.json"),$.getJSON("../data/25-transition.json"),$.getJSON("../data/26-duskwood.json"),$.getJSON("../data/27-transition.json"),$.getJSON("../data/28-ashenvale.json"),$.getJSON("../data/29-transition.json"),$.getJSON("../data/30-stv.json"),$.getJSON("../data/31-southshore.json"),$.getJSON("../data/32-arathi.json"),$.getJSON("../data/33-transition.json"),$.getJSON("../data/34-needles.json"),$.getJSON("../data/35-dustwallow.json"),$.getJSON("../data/36-transition.json"),$.getJSON("../data/37-desolace.json"),$.getJSON("../data/38-transition.json"),$.getJSON("../data/39-swamp.json"),$.getJSON("../data/40-transition.json"),$.getJSON("../data/41-arathi.json"),$.getJSON("../data/42-alterac.json"),$.getJSON("../data/43-transition.json"),$.getJSON("../data/44-stv.json"),$.getJSON("../data/45-transition.json"),$.getJSON("../data/46-badlands.json"),$.getJSON("../data/47-transition.json"),$.getJSON("../data/48-stv.json"),$.getJSON("../data/49-tanaris.json"),$.getJSON("../data/50-feralas.json"),$.getJSON("../data/51-transition.json"),$.getJSON("../data/52-hinterlands.json"),$.getJSON("../data/53-transition.json"),$.getJSON("../data/54-blasted.json"),$.getJSON("../data/55-hinterlands.json"),$.getJSON("../data/56-transition.json"),$.getJSON("../data/57-searing.json"),$.getJSON("../data/58-transition.json"),$.getJSON("../data/59-steppes.json"),$.getJSON("../data/60-transition.json"),$.getJSON("../data/61-azshara.json"),$.getJSON("../data/62-ungoro.json"),$.getJSON("../data/63-felwood.json"),$.getJSON("../data/64-transition.json"),$.getJSON("../data/65-feralas.json"),$.getJSON("../data/66-felwood.json"),$.getJSON("../data/67-transition.json"),$.getJSON("../data/68-wpl.json"),$.getJSON("../data/69-epl.json"),$.getJSON("../data/70-transition.json"),$.getJSON("../data/71-felwood.json"),$.getJSON("../data/72-ungoro.json"),$.getJSON("../data/73-winterspring.json"),$.getJSON("../data/74-transition.json"),$.getJSON("../data/75-plaguelands.json")],e=$.getJSON("../data/00-quest-ids.json");return Promise.all(t).then(t=>e.then(e=>{var s={build:[],storage:"questing-page",current:"0",stats:{blocks:0,waypoints:0,quests:0,progress:0},ids:e},a={};return t.forEach(t=>{t.path.forEach(t=>{s.build.push(t),s.stats.blocks++,t.waypoints.forEach(t=>{s.stats.waypoints++,void 0!=t.starts&&t.starts.forEach(t=>{"string"==typeof t?a[t]=0:a[t[0]]=0})})})}),s.stats.quests=Object.keys(a).length,null===localStorage.getItem(s.storage)&&localStorage.setItem(s.storage,"0"),s}))}},{}],3:[function(t,e,s){e.exports={map:function(t,e,s){return $(document).on("keyup",a=>{if(65==a.keyCode){var n=parseInt(t.current)-1;n>=0&&(t=s.map(t,e,n))}else if(68==a.keyCode){var o=parseInt(t.current)+1;o<t.stats.blocks&&(t=s.map(t,e,o))}}),$("#range").on("change",()=>{t=s.map(t,e,$("#range").val())}),$(document).on("keyup keydown",t=>{37!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode||t.preventDefault()}),t},general:function(t){var e;return $("#map").on("click",t=>{if("IMG"!=t.target.tagName){var e={width:t.currentTarget.clientWidth,height:t.currentTarget.clientHeight},s={x:t.offsetX,y:t.offsetY},a=(s.x/e.width*100).toFixed(0),n=(s.y/e.height*100).toFixed(0);log(a+"."+n)}}),$("#show-preload").on("click",()=>{0==t.windows.preload&&(t.windows.preload=1,log("Started Preloading.."),$("#prompt-inner").html('<div id="loading"><div class="lds-css ng-scope"><div style="width:100%;height:100%" class="lds-rolling"><div></div></div></div></div>'),$("#prompt").css("display","table"),sleep(50).then(()=>{$("#prompt").css("opacity","1");var t=[];["alterac","arathi","ashenvale","azshara","badlands","barrens","blasted","darkshore","darnassus","deadwind","desolace","duskwood","dustwallow","elwynn","epl","farmfarmfarm","felwood","feralas","hillsbrad","hinterlands","ironforge","loch","moonglade","morogh","needles","redridge","searing","steppes","stonetalon","stormwind","stv","swamp","tanaris","teldrassil","tirisfal","ungoro","westfall","wetlands","winterspring","wpl"].forEach(e=>{t.push((e=e,new Promise((t,s)=>{$.get("interface/img/maps/"+e+".png").done(()=>{t()})})))}),Promise.all(t).then(()=>{log("Preload Complete!"),$("#show-preload").removeAttr("class"),$("#show-preload").attr("id","disabled"),$("#disabled").text("Backgrounds Loaded"),$("#prompt").css("opacity","0"),sleep(300).then(()=>{$("#prompt").css("display","none"),$("#loading").remove()})})}))}),$("#show-faq").on("click",()=>{if(0==t.windows.faq){$("#prompt").css("display","table");var e='\n            <div id="faq">\n            <div id="title">Frequently Asked Questions</div>\n            <div id="content">\n         ';[["Is the route based on someone elses work?","No"],["Is it final/perfect?","No, but very easy to modify"],["Would I like to collaborate?","Absolutely"],["Will you route for non-humans?","Yes"],["Will there be a horde version?","Yes, probably during xmas"],['How about dungeon "quest run" guides?',"Yes, likely in short video format"],["Do I want feedback/suggestions?","Yes, it's essential"],["Both mechanical and game related?","Yes"],["Will this require a login?","No, everything runs locally"],["My question wasn't answered!",'Try the <a href="https://www.reddit.com/r/classicwow/comments/9zxi0v/inbrowser_160_questing_guide_for_classic/?" target="_blank">Reddit Thread</a>'],["How do I get in touch?",'Strafir#9133 on <a href="https://discord.gg/classicwow" target="_blank">Discord</a>']].forEach(t=>{e+='\n               <div id="question">\n                  <div class="split">\n                     <div id="left">'+t[0]+'</div>\n                     <div id="right">'+t[1]+"</div>\n                  </div>\n               </div>\n            "}),e+="</div></div>",$("#prompt-inner").html(e),sleep(50).then(()=>{$("#prompt").css("opacity","1")}),sleep(300).then(()=>{t.windows.faq=1})}}),$(document).on("keyup",e=>{27==e.keyCode&&1==t.windows.faq&&($("#prompt").css("opacity","0"),sleep(300).then(()=>{$("#prompt").css("display","none"),t.windows.faq=0})),70==e.keyCode&&("none"==$("#sidepanel").css("display")?($("#sidepanel").css("display","block"),$(".waypoint-num").css("display","block")):($("#sidepanel").css("display","none"),$(".waypoint-num").css("display","none")))}),$("body").on("mouseover","#show-legend",t=>{if(0==$("#legend").length){var e='<div id="legend"><div id="legend-inner">';[["blue","Central Hub"],["yellow","Quest"],["red","Objective"],["green","Flightpath"],["purple","Travel"]].forEach(t=>{e+='\n               <div class="category">\n                  <div class="split">\n                     <div id="left"><img src="interface/img/waypoints/'+t[0]+'.png"></div>\n                     <div id="right">'+t[1]+"</div>\n                  </div>\n               </div>\n            "}),[["D","Dungeon"],["E","Elite"],["F","Escort"],["R","Random Drop"],["C","Class"]].forEach(t=>{e+='\n               <div class="category">\n                  <div class="split">\n                     <div id="left">['+t[0]+']</div>\n                     <div id="right">'+t[1]+"</div>\n                  </div>\n               </div>\n            "}),e+="</div></div>",$("#map").append(e)}var s=parseFloat($("#legend").css("height")),a=parseFloat($("#show-legend").css("width")),n=t.target.offsetLeft-a/2,o=t.target.offsetTop-(s+10);$("#legend").css("left",n),$("#legend").css("top",o),$("#legend").css("display","inline-block")}),$("body").on("mouseout","#show-legend",()=>{$("#legend").css("display","none")}),t}}},{}],4:[function(t,e,s){function a(t,e,s){var a="";return a+="string"===typeof e?'<div class="'+t+'"><a href="https://classicdb.ch/?quest='+s[e.toLowerCase()]+'" target="_blank">'+n(e)+"</a></div>":'\n         <div class="'+t+'">\n            <div class="split">\n               <div id="left"><a href="https://classicdb.ch/?quest='+s[e[0].toLowerCase()]+'" target="_blank">'+n(e[0])+'</a></div>\n               <div id="right">'+n(e[1])+"</div>\n            </div>\n         </div>\n      "}function n(t){return t.length>28&&(t=t.substring(0,25),t+="..."),t}e.exports={map:function(t,e,s){t.current=s,localStorage.setItem(t.storage,String(s));var n=parseInt(t.current);$("#range").val(n),$("#map").css("opacity",0),$("#sidepanel-inner").css("opacity",0),t.stats.progress=n/(t.stats.blocks-1)*100;var o=n+1;$("#progress-inner").html("#"+o+" &#160;&ndash;&#160; "+t.stats.progress.toFixed(2)+"%"),$("#progress-focus").css("width",t.stats.progress+"%");var i=t.build[n],d=parseInt(String(i.experience.toFixed(2)).split(".")[0]),r=parseInt(String(i.experience.toFixed(2)).split(".")[1]);return $("#level-inner").html("Level "+d+" + "+r+"%"),$("#level-focus").css("width",r+"%"),sleep(300).then(()=>{$("#map, #tooltip").html(""),$("#tooltip").css("display","none"),$("#map").css("background",'url("interface/img/maps/'+i.zone+'.png")'),$.each(i.waypoints,(t,s)=>{var a=e.align.left;void 0!=s.align&&(a=e.align[s.align]);var n='\n            <div class="waypoint" style="left: '+s.coords.x+"%; top: "+s.coords.y+'%;">\n               <img src="interface/img/waypoints/space.png" class="'+s.type+'" wp="'+t+'"><span class="waypoint-num" style="left: '+a.x+";top: "+a.y+'"><img src="interface/img/numbers/'+(t+1)+'.png"></span>\n            </div>\n         ';$("#map").append(n)});for(var s="",n=0;n<i.waypoints.length-1;n++)s+='<line x1="'+i.waypoints[n].coords.x+'%" y1="'+i.waypoints[n].coords.y+'%" x2="'+i.waypoints[n+1].coords.x+'%" y2="'+i.waypoints[n+1].coords.y+'%"/>';$("#map").append("<svg>"+s+"</svg>"),$("#map").append('<span id="show-legend">Map Legend</span><div id="tooltip"></div><div id="tooltip"></div>'),function(t){var e=t.ids,s=t.build[t.current].waypoints,n=$("#sidepanel-inner"),o="";$.each(s,(t,s)=>{var n=t+1;o+='\n         <div class="section">\n            <div class="title">\n               <div class="split">\n                  <div id="left">'+n+". "+s.header+'</div>\n                  <div id="right"></div>\n               </div>\n            </div>\n      ',void 0!=s.ends&&s.ends.forEach(t=>{o+=a("ends",t,e)}),void 0!=s.starts&&s.starts.forEach(t=>{o+=a("starts",t,e)}),void 0!=s.objectives&&s.objectives.forEach(t=>{o+=a("objectives",t,e)}),void 0!=s.special&&s.special.forEach(t=>{o+='<div class="special">'+t+"</div>"}),o+="</div>"}),n.html(o)}(t),$("#map").css("opacity",1),$("#sidepanel-inner").css("opacity",1)}),t}}},{}],5:[function(t,e,s){function a(t,e){var s="";return s+="string"===typeof e?'<div class="'+t+'">'+n(e)+"</div>":'\n         <div class="'+t+'">\n            <div class="split">\n               <div id="left">'+n(e[0])+'</div>\n               <div id="right">'+e[1]+"</div>\n            </div>\n         </div>\n      "}function n(t){return t.length>28&&(t=t.substring(0,25),t+="..."),t}e.exports={map:function(t){$("body").on("mouseover",".flightpath, .objective, .travel, .hub, .quest",e=>{var s=t.build[t.current],n=$(e.target).attr("wp"),o=s.waypoints[n],i='<div id="tooltip-inner">';""!=o.header&&(i+='\n            <div class="title">\n               <div class="split">\n                  <div id="left">'+o.header+'</div>\n                  <div id="right">'+o.coords.x+"."+o.coords.y+"</div>\n               </div>\n            </div>\n         "),void 0!=o.ends&&o.ends.forEach(t=>{i+=a("ends",t)}),void 0!=o.starts&&o.starts.forEach(t=>{i+=a("starts",t)}),void 0!=o.objectives&&o.objectives.forEach(t=>{i+=a("objectives",t)}),void 0!=o.special&&o.special.forEach(t=>{i+='<div class="special">'+t+"</div>"}),i+="</div>",$("#tooltip").html(i);var d=parseFloat($("#tooltip").css("height")),r=parseFloat($("#tooltip").css("width")),l=e.target.offsetParent.offsetLeft-r/2,p=e.target.offsetParent.offsetTop-(d+15);$("#tooltip").css("left",l),$("#tooltip").css("top",p),$("#tooltip").css("display","inline-block")}),$("body").on("mouseout",".flightpath, .objective, .travel, .hub, .quest",()=>{$("#tooltip").css("display","none")})}}},{}]},{},[1]);
