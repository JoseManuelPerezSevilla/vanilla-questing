!function(){return function a(e,t,s){function n(o,l){if(!t[o]){if(!e[o]){var d="function"==typeof require&&require;if(!l&&d)return d(o,!0);if(i)return i(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(a){return n(e[o][1][a]||a)},c,c.exports,a,e,t,s)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}}()({1:[function(a,e,t){a("./modules/build.js")("alliance").then(e=>{var t={align:{left:{x:-20,y:-6},right:{x:10,y:-6},top:{x:-5,y:-21},bottom:{x:-5,y:10}},windows:{preload:0,faq:0},maxlength:28};$("body").prepend('<div id="prompt"><div id="prompt-inner"></div></div>'),$("#block-count").html(e.stats.blocks),$("#waypoint-count").html(e.stats.waypoints),$("#quest-count").html(e.stats.quests),$("#range").attr("max",e.stats.blocks-1);var s=localStorage.getItem(e.storage),n=a("./modules/render.js"),i=a("./modules/events.js"),o=a("./modules/tooltips.js");e=n.map(e,t,s),e=i.map(e,t,n),t=i.general(t),o.map(e,t)})},{"./modules/build.js":2,"./modules/events.js":3,"./modules/render.js":4,"./modules/tooltips.js":5}],2:[function(a,e,t){e.exports=function(a){var e,t;return"alliance"==a?(e=[$.getJSON("../data/alliance/01-elwynn.json"),$.getJSON("../data/alliance/02-transition.json"),$.getJSON("../data/alliance/03-morogh.json"),$.getJSON("../data/alliance/04-loch.json"),$.getJSON("../data/alliance/05-transition.json"),$.getJSON("../data/alliance/06-darkshore.json"),$.getJSON("../data/alliance/07-transition.json"),$.getJSON("../data/alliance/08-westfall.json"),$.getJSON("../data/alliance/09-transition.json"),$.getJSON("../data/alliance/10-redridge.json"),$.getJSON("../data/alliance/11-transition.json"),$.getJSON("../data/alliance/12-darkshore.json"),$.getJSON("../data/alliance/13-ashenvale.json"),$.getJSON("../data/alliance/14-transition.json"),$.getJSON("../data/alliance/15-menethil.json"),$.getJSON("../data/alliance/16-duskwood.json"),$.getJSON("../data/alliance/17-transition.json"),$.getJSON("../data/alliance/18-duskwood.json"),$.getJSON("../data/alliance/19-redridge.json"),$.getJSON("../data/alliance/20-duskwood.json"),$.getJSON("../data/alliance/21-transition.json"),$.getJSON("../data/alliance/22-wetlands.json"),$.getJSON("../data/alliance/23-transition.json"),$.getJSON("../data/alliance/24-wetlands.json"),$.getJSON("../data/alliance/25-transition.json"),$.getJSON("../data/alliance/26-duskwood.json"),$.getJSON("../data/alliance/27-transition.json"),$.getJSON("../data/alliance/28-ashenvale.json"),$.getJSON("../data/alliance/29-transition.json"),$.getJSON("../data/alliance/30-stv.json"),$.getJSON("../data/alliance/31-southshore.json"),$.getJSON("../data/alliance/32-arathi.json"),$.getJSON("../data/alliance/33-transition.json"),$.getJSON("../data/alliance/34-needles.json"),$.getJSON("../data/alliance/35-dustwallow.json"),$.getJSON("../data/alliance/36-transition.json"),$.getJSON("../data/alliance/37-desolace.json"),$.getJSON("../data/alliance/38-transition.json"),$.getJSON("../data/alliance/39-swamp.json"),$.getJSON("../data/alliance/40-transition.json"),$.getJSON("../data/alliance/41-arathi.json"),$.getJSON("../data/alliance/42-alterac.json"),$.getJSON("../data/alliance/43-transition.json"),$.getJSON("../data/alliance/44-stv.json"),$.getJSON("../data/alliance/45-transition.json"),$.getJSON("../data/alliance/46-badlands.json"),$.getJSON("../data/alliance/47-transition.json"),$.getJSON("../data/alliance/48-stv.json"),$.getJSON("../data/alliance/49-tanaris.json"),$.getJSON("../data/alliance/50-feralas.json"),$.getJSON("../data/alliance/51-transition.json"),$.getJSON("../data/alliance/52-hinterlands.json"),$.getJSON("../data/alliance/53-transition.json"),$.getJSON("../data/alliance/54-blasted.json"),$.getJSON("../data/alliance/55-hinterlands.json"),$.getJSON("../data/alliance/56-transition.json"),$.getJSON("../data/alliance/57-searing.json"),$.getJSON("../data/alliance/58-transition.json"),$.getJSON("../data/alliance/59-steppes.json"),$.getJSON("../data/alliance/60-transition.json"),$.getJSON("../data/alliance/61-azshara.json"),$.getJSON("../data/alliance/62-ungoro.json"),$.getJSON("../data/alliance/63-felwood.json"),$.getJSON("../data/alliance/64-transition.json"),$.getJSON("../data/alliance/65-feralas.json"),$.getJSON("../data/alliance/66-felwood.json"),$.getJSON("../data/alliance/67-transition.json"),$.getJSON("../data/alliance/68-wpl.json"),$.getJSON("../data/alliance/69-epl.json"),$.getJSON("../data/alliance/70-transition.json"),$.getJSON("../data/alliance/71-felwood.json"),$.getJSON("../data/alliance/72-ungoro.json"),$.getJSON("../data/alliance/73-winterspring.json"),$.getJSON("../data/alliance/74-transition.json"),$.getJSON("../data/alliance/75-plaguelands.json")],t=$.getJSON("../data/alliance/00-quest-ids.json")):(e=[$.getJSON("../data/horde/01-durotar.json")],t=$.getJSON("../data/horde/00-quest-ids.json")),Promise.all(e).then(a=>t.then(e=>{var t={build:[],storage:"questing-page",current:"0",stats:{blocks:0,waypoints:0,quests:0,progress:0},ids:e};return a.forEach(a=>{a.path.forEach(a=>{t.build.push(a),t.stats.blocks++,t.stats.waypoints+=a.waypoints.length})}),t.stats.quests=Object.keys(t.ids).length,null===localStorage.getItem(t.storage)&&localStorage.setItem(t.storage,"0"),t}))}},{}],3:[function(a,e,t){e.exports={map:function(a,e,t){return $(document).on("keyup",s=>{if(65==s.keyCode){var n=parseInt(a.current)-1;n>=0&&(a=t.map(a,e,n))}else if(68==s.keyCode){var i=parseInt(a.current)+1;i<a.stats.blocks&&(a=t.map(a,e,i))}}),$("#range").on("change",()=>{a=t.map(a,e,$("#range").val())}),$(document).on("keyup keydown",a=>{37!=a.keyCode&&38!=a.keyCode&&39!=a.keyCode&&40!=a.keyCode||a.preventDefault()}),a},general:function(a){var e;return $("#map").on("click",a=>{if("IMG"!=a.target.tagName){var e={width:a.currentTarget.clientWidth,height:a.currentTarget.clientHeight},t={x:a.offsetX,y:a.offsetY},s=(t.x/e.width*100).toFixed(0),n=(t.y/e.height*100).toFixed(0);log(s+"."+n)}}),$("#show-preload").on("click",()=>{0==a.windows.preload&&(a.windows.preload=1,log("Started Preloading.."),$("#prompt-inner").html('<div id="loading"><div class="lds-css ng-scope"><div style="width:100%;height:100%" class="lds-rolling"><div></div></div></div></div>'),$("#prompt").css("display","table"),sleep(50).then(()=>{$("#prompt").css("opacity","1");var a=[];["alterac","arathi","ashenvale","azshara","badlands","barrens","blasted","darkshore","darnassus","deadwind","desolace","duskwood","dustwallow","elwynn","epl","farmfarmfarm","felwood","feralas","hillsbrad","hinterlands","ironforge","loch","moonglade","morogh","needles","redridge","searing","steppes","stonetalon","stormwind","stv","swamp","tanaris","teldrassil","tirisfal","ungoro","westfall","wetlands","winterspring","wpl"].forEach(e=>{a.push((e=e,new Promise((a,t)=>{$.get("interface/img/maps/"+e+".png").done(()=>{a()})})))}),Promise.all(a).then(()=>{log("Preload Complete!"),$("#show-preload").removeAttr("class"),$("#show-preload").attr("id","disabled"),$("#disabled").text("Backgrounds Loaded"),$("#prompt").css("opacity","0"),sleep(300).then(()=>{$("#prompt").css("display","none"),$("#loading").remove()})})}))}),$("#show-faq").on("click",()=>{if(0==a.windows.faq){$("#prompt").css("display","table");var e='\n            <div id="faq">\n            <div id="title">Frequently Asked Questions</div>\n            <div id="content">\n         ';[["Is the route based on someone elses work?","No"],["Is it final/perfect?","No, but very easy to modify"],["Would I like to collaborate?","Absolutely"],["Will you route for non-humans?","Yes"],["Will there be a horde version?","Yes, probably during xmas"],['How about dungeon "quest run" guides?',"Yes, likely in short video format"],["Do I want feedback/suggestions?","Yes, it's essential"],["Both mechanical and game related?","Yes"],["Will this require a login?","No, everything runs locally"],["My question wasn't answered!",'Try the <a href="https://www.reddit.com/r/classicwow/comments/9zxi0v/inbrowser_160_questing_guide_for_classic/?" target="_blank">Reddit Thread</a>'],["How do I get in touch?",'Strafir#9133 on <a href="https://discord.gg/classicwow" target="_blank">Discord</a>']].forEach(a=>{e+='\n               <div id="question">\n                  <div class="split">\n                     <div id="left">'+a[0]+'</div>\n                     <div id="right">'+a[1]+"</div>\n                  </div>\n               </div>\n            "}),e+="</div></div>",$("#prompt-inner").html(e),sleep(50).then(()=>{$("#prompt").css("opacity","1")}),sleep(300).then(()=>{a.windows.faq=1})}}),$(document).on("keyup",e=>{27==e.keyCode&&1==a.windows.faq&&($("#prompt").css("opacity","0"),sleep(300).then(()=>{$("#prompt").css("display","none"),a.windows.faq=0})),70==e.keyCode&&("none"==$("#sidepanel").css("display")?($("#sidepanel").css("display","block"),$(".waypoint-num").css("display","block")):($("#sidepanel").css("display","none"),$(".waypoint-num").css("display","none")))}),$("body").on("mouseover","#show-legend",a=>{if(0==$("#legend").length){var e='<div id="legend"><div id="legend-inner">';[["blue","Central Hub"],["yellow","Quest"],["red","Objective"],["green","Flightpath"],["purple","Travel"]].forEach(a=>{e+='\n               <div class="category">\n                  <div class="split">\n                     <div id="left"><img src="interface/img/waypoints/'+a[0]+'.png"></div>\n                     <div id="right">'+a[1]+"</div>\n                  </div>\n               </div>\n            "}),[["D","Dungeon"],["E","Elite"],["F","Escort"],["R","Random Drop"],["C","Class"]].forEach(a=>{e+='\n               <div class="category">\n                  <div class="split">\n                     <div id="left">['+a[0]+']</div>\n                     <div id="right">'+a[1]+"</div>\n                  </div>\n               </div>\n            "}),e+="</div></div>",$("#map").append(e)}var t=parseFloat($("#legend").css("height")),s=parseFloat($("#show-legend").css("width")),n=a.target.offsetLeft-s/2,i=a.target.offsetTop-(t+10);$("#legend").css("left",n),$("#legend").css("top",i),$("#legend").css("display","inline-block")}),$("body").on("mouseout","#show-legend",()=>{$("#legend").css("display","none")}),$("body").on("click","#show-obj",()=>{"current"!=$(this).attr("class")?($("#show-quests").removeAttr("class"),$("#show-obj").attr("class","current"),$("#quest-log").css("display","none"),$("#obj-log").css("display","block")):log("Tab Already Open!")}),$("body").on("click","#show-quests",()=>{"current"!=$(this).attr("class")?($("#show-obj").removeAttr("class"),$("#show-quests").attr("class","current"),$("#obj-log").css("display","none"),$("#quest-log").css("display","block")):log("Tab Already Open!")}),a}}},{}],4:[function(a,e,t){function s(a,e,t,s){var n="";return n+="string"===typeof e?'<div class="'+a+'"><a href="https://classicdb.ch/?quest='+s[e.toLowerCase()]+'" target="_blank">'+shorten(e,t)+"</a></div>":'\n         <div class="'+a+'">\n            <div class="split">\n               <div id="left"><a href="https://classicdb.ch/?quest='+s[e[0].toLowerCase()]+'" target="_blank">'+shorten(e[0],t)+'</a></div>\n               <div id="right">'+e[1]+"</div>\n            </div>\n         </div>\n      "}e.exports={map:function(a,e,t){a.current=t,localStorage.setItem(a.storage,String(t));var n=parseInt(a.current);$("#range").val(n),$("#map").css("opacity",0),$("#sidepanel-inner").css("opacity",0),a.stats.progress=n/(a.stats.blocks-1)*100;var i=n+1;$("#progress-inner").html("#"+i+" &#160;&ndash;&#160; "+a.stats.progress.toFixed(2)+"%"),$("#progress-focus").css("width",a.stats.progress+"%");var o=a.build[n],l=parseInt(String(o.experience.toFixed(2)).split(".")[0]),d=parseInt(String(o.experience.toFixed(2)).split(".")[1]);return $("#level-inner").html("Level "+l+" + "+d+"%"),$("#level-focus").css("width",d+"%"),sleep(300).then(()=>{$("#map, #tooltip").html(""),$("#tooltip").css("display","none"),$("#map").css("background",'url("interface/img/maps/'+o.zone+'.png")'),$.each(o.waypoints,(a,t)=>{var s=e.align.left;void 0!=t.align&&(s=e.align[t.align]);var n='\n            <div class="waypoint" style="left: '+t.coords.x+"%; top: "+t.coords.y+'%;">\n               <img src="interface/img/waypoints/space.png" class="'+t.type+'" wp="'+a+'"><span class="waypoint-num" style="left: '+s.x+";top: "+s.y+'"><img src="interface/img/numbers/'+(a+1)+'.png"></span>\n            </div>\n         ';$("#map").append(n)});for(var t="",n=0;n<o.waypoints.length-1;n++)t+='<line x1="'+o.waypoints[n].coords.x+'%" y1="'+o.waypoints[n].coords.y+'%" x2="'+o.waypoints[n+1].coords.x+'%" y2="'+o.waypoints[n+1].coords.y+'%"/>';$("#map").append("<svg>"+t+"</svg>"),$("#map").append('<span id="show-legend">Map Legend</span><span id="hearthstone"><span id="hearthstone-inner">None</span></span><div id="tooltip"></div>'),function(a,e){var t=a.build[a.current].waypoints,n=a.ids,i=function(a,e,t){var n="";return $.each(a,(a,i)=>{n+='\n         <div class="section">\n            <div class="title">\n               <div class="split">\n                  <div id="left">'+(a+1)+". "+i.header+'</div>\n                  <div id="right"></div>\n               </div>\n            </div>\n      ',void 0!=i.ends&&i.ends.forEach(a=>{n+=s("ends",a,t,e)}),void 0!=i.starts&&i.starts.forEach(a=>{n+=s("starts",a,t,e)}),void 0!=i.objectives&&i.objectives.forEach(a=>{n+=s("objectives",a,t,e)}),void 0!=i.special&&i.special.forEach(a=>{n+='<div class="special">'+a+"</div>"}),n+="</div>"}),n}(t,n,e),o=function(a,e){for(var t={},s=["The Lost Dwarves","Back to Uldaman","Into the Depths","Secret of the Circle","Legends of Maraudon","The Essence of Eranikus","Marshal Windsor","Kharan Mighthammer","Dark Iron Legacy","Attunement to the Core","The Fate of the Kingdom","A Crumpled Up Note"],n=0;n<a.current;n++){var i=a.build[n].waypoints;i.forEach(a=>{void 0!=a.starts&&a.starts.forEach(a=>{if("string"!=typeof a){var e=$.inArray(a[0],s);-1==e&&(t[a[0]]=0)}else{var e=$.inArray(a,s);-1==e&&(t[a]=0)}}),void 0!=a.ends&&a.ends.forEach(a=>{"string"!=typeof a?delete t[a[0]]:delete t[a]})})}var o='\n      <div class="title">\n         <div class="split">\n            <div id="left">Current Quests</div>\n            <div id="right">'+(t=Object.keys(t)).length+" / 20</div>\n         </div>\n      </div>\n   ";return t.forEach(t=>{o+='<div class="ends"><a href="https://classicdb.ch/?quest='+a.ids[t.toLowerCase()]+'" target="_blank">'+shorten(t,e)+"</a></div>"}),o='<div class="section">'+o+"</div>"}(a,e);$("#obj-log").html(i),$("#quest-log").html(o)}(a,e),function(a){for(var e="none",t=a.current;t>=0&&"none"==e;t--){var s=a.build[t].waypoints;s.forEach(s=>{void 0!=s.special&&s.special.forEach(s=>{"set hearthstone"==(s=s.toLowerCase())&&(e=capitalize(a.build[t].zone))})})}"Stv"==e&&(e="STV"),$("#hearthstone-inner").html(e)}(a),$("#map").css("opacity",1),$("#sidepanel-inner").css("opacity",1)}),a}}},{}],5:[function(a,e,t){function s(a,e,t){var s="";return s+="string"===typeof e?'<div class="'+a+'">'+shorten(e,t)+"</div>":'\n         <div class="'+a+'">\n            <div class="split">\n               <div id="left">'+shorten(e[0],t)+'</div>\n               <div id="right">'+e[1]+"</div>\n            </div>\n         </div>\n      "}e.exports={map:function(a,e){$("body").on("mouseover",".flightpath, .objective, .travel, .hub, .quest",t=>{var n=a.build[a.current],i=$(t.target).attr("wp"),o=n.waypoints[i],l='<div id="tooltip-inner">';""!=o.header&&(l+='\n            <div class="title">\n               <div class="split">\n                  <div id="left">'+o.header+'</div>\n                  <div id="right">'+o.coords.x+"."+o.coords.y+"</div>\n               </div>\n            </div>\n         "),void 0!=o.ends&&o.ends.forEach(a=>{l+=s("ends",a,e)}),void 0!=o.starts&&o.starts.forEach(a=>{l+=s("starts",a,e)}),void 0!=o.objectives&&o.objectives.forEach(a=>{l+=s("objectives",a,e)}),void 0!=o.special&&o.special.forEach(a=>{l+='<div class="special">'+a+"</div>"}),l+="</div>",$("#tooltip").html(l);var d=parseFloat($("#tooltip").css("height")),r=parseFloat($("#tooltip").css("width")),c=t.target.offsetParent.offsetLeft-r/2,p=t.target.offsetParent.offsetTop-(d+15);$("#tooltip").css("left",c),$("#tooltip").css("top",p),$("#tooltip").css("display","inline-block")}),$("body").on("mouseout",".flightpath, .objective, .travel, .hub, .quest",()=>{$("#tooltip").css("display","none")})}}},{}]},{},[1]);
